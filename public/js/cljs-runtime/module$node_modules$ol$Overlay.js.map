{
"version":3,
"file":"module$node_modules$ol$Overlay.js",
"lineCount":155,
"mappings":"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",
"sources":["node_modules/ol/Overlay.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$Overlay\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__SLASH_MapEventType_DOT_js = require(\"./MapEventType.js\");\nvar require$_DOT__SLASH_Object_DOT_js = require(\"./Object.js\");\nvar require$_DOT__SLASH_css_DOT_js = require(\"./css.js\");\nvar require$_DOT__SLASH_dom_DOT_js = require(\"./dom.js\");\nvar require$_DOT__SLASH_events_DOT_js = require(\"./events.js\");\nvar require$_DOT__SLASH_extent_DOT_js = require(\"./extent.js\");\nvar default$$require$_DOT__SLASH_Object_DOT_js = require.esmDefault(require$_DOT__SLASH_Object_DOT_js);\nvar default$$require$_DOT__SLASH_MapEventType_DOT_js = require.esmDefault(require$_DOT__SLASH_MapEventType_DOT_js);\nconst Property = {ELEMENT:\"element\", MAP:\"map\", OFFSET:\"offset\", POSITION:\"position\", POSITIONING:\"positioning\",};\nclass Overlay extends default$$require$_DOT__SLASH_Object_DOT_js.default {\n  constructor(options) {\n    super();\n    this.on;\n    this.once;\n    this.un;\n    this.options = options;\n    this.id = options.id;\n    this.insertFirst = options.insertFirst !== undefined ? options.insertFirst : true;\n    this.stopEvent = options.stopEvent !== undefined ? options.stopEvent : true;\n    this.element = document.createElement(\"div\");\n    this.element.className = options.className !== undefined ? options.className : \"ol-overlay-container \" + require$_DOT__SLASH_css_DOT_js.CLASS_SELECTABLE;\n    this.element.style.position = \"absolute\";\n    this.element.style.pointerEvents = \"auto\";\n    this.autoPan = options.autoPan === true ? {} : options.autoPan || undefined;\n    this.rendered = {transform_:\"\", visible:true,};\n    this.mapPostrenderListenerKey = null;\n    this.addChangeListener(Property.ELEMENT, this.handleElementChanged);\n    this.addChangeListener(Property.MAP, this.handleMapChanged);\n    this.addChangeListener(Property.OFFSET, this.handleOffsetChanged);\n    this.addChangeListener(Property.POSITION, this.handlePositionChanged);\n    this.addChangeListener(Property.POSITIONING, this.handlePositioningChanged);\n    if (options.element !== undefined) {\n      this.setElement(options.element);\n    }\n    this.setOffset(options.offset !== undefined ? options.offset : [0, 0]);\n    this.setPositioning(options.positioning || \"top-left\");\n    if (options.position !== undefined) {\n      this.setPosition(options.position);\n    }\n  }\n  getElement() {\n    return this.get(Property.ELEMENT);\n  }\n  getId() {\n    return this.id;\n  }\n  getMap() {\n    return this.get(Property.MAP) || null;\n  }\n  getOffset() {\n    return this.get(Property.OFFSET);\n  }\n  getPosition() {\n    return this.get(Property.POSITION);\n  }\n  getPositioning() {\n    return this.get(Property.POSITIONING);\n  }\n  handleElementChanged() {\n    (0,require$_DOT__SLASH_dom_DOT_js.removeChildren)(this.element);\n    const element = this.getElement();\n    if (element) {\n      this.element.appendChild(element);\n    }\n  }\n  handleMapChanged() {\n    if (this.mapPostrenderListenerKey) {\n      this.element?.remove();\n      (0,require$_DOT__SLASH_events_DOT_js.unlistenByKey)(this.mapPostrenderListenerKey);\n      this.mapPostrenderListenerKey = null;\n    }\n    const map = this.getMap();\n    if (map) {\n      this.mapPostrenderListenerKey = (0,require$_DOT__SLASH_events_DOT_js.listen)(map, default$$require$_DOT__SLASH_MapEventType_DOT_js.default.POSTRENDER, this.render, this,);\n      this.updatePixelPosition();\n      const container = this.stopEvent ? map.getOverlayContainerStopEvent() : map.getOverlayContainer();\n      if (this.insertFirst) {\n        container.insertBefore(this.element, container.childNodes[0] || null);\n      } else {\n        container.appendChild(this.element);\n      }\n      this.performAutoPan();\n    }\n  }\n  render() {\n    this.updatePixelPosition();\n  }\n  handleOffsetChanged() {\n    this.updatePixelPosition();\n  }\n  handlePositionChanged() {\n    this.updatePixelPosition();\n    this.performAutoPan();\n  }\n  handlePositioningChanged() {\n    this.updatePixelPosition();\n  }\n  setElement(element) {\n    this.set(Property.ELEMENT, element);\n  }\n  setMap(map) {\n    this.set(Property.MAP, map);\n  }\n  setOffset(offset) {\n    this.set(Property.OFFSET, offset);\n  }\n  setPosition(position) {\n    this.set(Property.POSITION, position);\n  }\n  performAutoPan() {\n    if (this.autoPan) {\n      this.panIntoView(this.autoPan);\n    }\n  }\n  panIntoView(panIntoViewOptions) {\n    const map = this.getMap();\n    if (!map || !map.getTargetElement() || !this.get(Property.POSITION)) {\n      return;\n    }\n    const mapRect = this.getRect(map.getTargetElement(), map.getSize());\n    const element = this.getElement();\n    const overlayRect = this.getRect(element, [(0,require$_DOT__SLASH_dom_DOT_js.outerWidth)(element), (0,require$_DOT__SLASH_dom_DOT_js.outerHeight)(element),]);\n    panIntoViewOptions = panIntoViewOptions || {};\n    const myMargin = panIntoViewOptions.margin === undefined ? 20 : panIntoViewOptions.margin;\n    if (!(0,require$_DOT__SLASH_extent_DOT_js.containsExtent)(mapRect, overlayRect)) {\n      const offsetLeft = overlayRect[0] - mapRect[0];\n      const offsetRight = mapRect[2] - overlayRect[2];\n      const offsetTop = overlayRect[1] - mapRect[1];\n      const offsetBottom = mapRect[3] - overlayRect[3];\n      const delta = [0, 0];\n      if (offsetLeft < 0) {\n        delta[0] = offsetLeft - myMargin;\n      } else if (offsetRight < 0) {\n        delta[0] = Math.abs(offsetRight) + myMargin;\n      }\n      if (offsetTop < 0) {\n        delta[1] = offsetTop - myMargin;\n      } else if (offsetBottom < 0) {\n        delta[1] = Math.abs(offsetBottom) + myMargin;\n      }\n      if (delta[0] !== 0 || delta[1] !== 0) {\n        const center = map.getView().getCenterInternal();\n        const centerPx = map.getPixelFromCoordinateInternal(center);\n        if (!centerPx) {\n          return;\n        }\n        const newCenterPx = [centerPx[0] + delta[0], centerPx[1] + delta[1]];\n        const panOptions = panIntoViewOptions.animation || {};\n        map.getView().animateInternal({center:map.getCoordinateFromPixelInternal(newCenterPx), duration:panOptions.duration, easing:panOptions.easing,});\n      }\n    }\n  }\n  getRect(element, size) {\n    const box = element.getBoundingClientRect();\n    const offsetX = box.left + window.pageXOffset;\n    const offsetY = box.top + window.pageYOffset;\n    return [offsetX, offsetY, offsetX + size[0], offsetY + size[1]];\n  }\n  setPositioning(positioning) {\n    this.set(Property.POSITIONING, positioning);\n  }\n  setVisible(visible) {\n    if (this.rendered.visible !== visible) {\n      this.element.style.display = visible ? \"\" : \"none\";\n      this.rendered.visible = visible;\n    }\n  }\n  updatePixelPosition() {\n    const map = this.getMap();\n    const position = this.getPosition();\n    if (!map || !map.isRendered() || !position) {\n      this.setVisible(false);\n      return;\n    }\n    const pixel = map.getPixelFromCoordinate(position);\n    const mapSize = map.getSize();\n    this.updateRenderedPosition(pixel, mapSize);\n  }\n  updateRenderedPosition(pixel, mapSize) {\n    const style = this.element.style;\n    const offset = this.getOffset();\n    const positioning = this.getPositioning();\n    this.setVisible(true);\n    const x = Math.round(pixel[0] + offset[0]) + \"px\";\n    const y = Math.round(pixel[1] + offset[1]) + \"px\";\n    let posX = \"0%\";\n    let posY = \"0%\";\n    if (positioning == \"bottom-right\" || positioning == \"center-right\" || positioning == \"top-right\") {\n      posX = \"-100%\";\n    } else if (positioning == \"bottom-center\" || positioning == \"center-center\" || positioning == \"top-center\") {\n      posX = \"-50%\";\n    }\n    if (positioning == \"bottom-left\" || positioning == \"bottom-center\" || positioning == \"bottom-right\") {\n      posY = \"-100%\";\n    } else if (positioning == \"center-left\" || positioning == \"center-center\" || positioning == \"center-right\") {\n      posY = \"-50%\";\n    }\n    const transform = `translate(${posX}, ${posY}) translate(${x}, ${y})`;\n    if (this.rendered.transform_ != transform) {\n      this.rendered.transform_ = transform;\n      style.transform = transform;\n    }\n  }\n  getOptions() {\n    return this.options;\n  }\n}\nconst $$default = Overlay;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__SLASH_MapEventType_DOT_js","require$_DOT__SLASH_Object_DOT_js","require$_DOT__SLASH_css_DOT_js","require$_DOT__SLASH_dom_DOT_js","require$_DOT__SLASH_events_DOT_js","require$_DOT__SLASH_extent_DOT_js","default$$require$_DOT__SLASH_Object_DOT_js","esmDefault","default$$require$_DOT__SLASH_MapEventType_DOT_js","Overlay","constructor","options","on","once","un","id","insertFirst","undefined","stopEvent","element","document","createElement","className","CLASS_SELECTABLE","style","position","pointerEvents","autoPan","rendered","transform_","visible","mapPostrenderListenerKey","addChangeListener","ELEMENT","handleElementChanged","MAP","handleMapChanged","OFFSET","handleOffsetChanged","POSITION","handlePositionChanged","POSITIONING","handlePositioningChanged","setElement","setOffset","offset","setPositioning","positioning","setPosition","getElement","getId","getMap","getOffset","getPosition","getPositioning","removeChildren","appendChild","remove","unlistenByKey","map","listen","POSTRENDER","render","updatePixelPosition","container","getOverlayContainerStopEvent","getOverlayContainer","insertBefore","childNodes","performAutoPan","set","setMap","panIntoView","panIntoViewOptions","getTargetElement","mapRect","getRect","getSize","overlayRect","outerWidth","outerHeight","myMargin","margin","containsExtent","offsetLeft","offsetRight","offsetTop","offsetBottom","delta","Math","abs","center","centerPx","getView","getCenterInternal","getPixelFromCoordinateInternal","newCenterPx","panOptions","animation","animateInternal","getCoordinateFromPixelInternal","duration","easing","size","box","getBoundingClientRect","offsetX","left","window","pageXOffset","offsetY","top","pageYOffset","setVisible","display","isRendered","pixel","getPixelFromCoordinate","mapSize","updateRenderedPosition","x","round","y","posY","posX","transform","getOptions"]
}
