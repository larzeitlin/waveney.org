{
"version":3,
"file":"module$node_modules$ol$Geolocation.js",
"lineCount":109,
"mappings":"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",
"sources":["node_modules/ol/Geolocation.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$Geolocation\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, GeolocationError:{enumerable:true, get:function() {\n  return GeolocationError;\n}}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__SLASH_Object_DOT_js = require(\"./Object.js\");\nvar require$_DOT__SLASH_events_SLASH_Event_DOT_js = require(\"./events/Event.js\");\nvar require$_DOT__SLASH_geom_SLASH_Polygon_DOT_js = require(\"./geom/Polygon.js\");\nvar require$_DOT__SLASH_math_DOT_js = require(\"./math.js\");\nvar require$_DOT__SLASH_proj_DOT_js = require(\"./proj.js\");\nvar default$$require$_DOT__SLASH_Object_DOT_js = require.esmDefault(require$_DOT__SLASH_Object_DOT_js);\nvar default$$require$_DOT__SLASH_events_SLASH_Event_DOT_js = require.esmDefault(require$_DOT__SLASH_events_SLASH_Event_DOT_js);\nconst Property = {ACCURACY:\"accuracy\", ACCURACY_GEOMETRY:\"accuracyGeometry\", ALTITUDE:\"altitude\", ALTITUDE_ACCURACY:\"altitudeAccuracy\", HEADING:\"heading\", POSITION:\"position\", PROJECTION:\"projection\", SPEED:\"speed\", TRACKING:\"tracking\", TRACKING_OPTIONS:\"trackingOptions\",};\nconst GeolocationErrorType = {ERROR:\"error\",};\nclass GeolocationError extends default$$require$_DOT__SLASH_events_SLASH_Event_DOT_js.default {\n  constructor(error) {\n    super(GeolocationErrorType.ERROR);\n    this.code = error.code;\n    this.message = error.message;\n  }\n}\nclass Geolocation extends default$$require$_DOT__SLASH_Object_DOT_js.default {\n  constructor(options) {\n    super();\n    this.on;\n    this.once;\n    this.un;\n    options = options || {};\n    this.position_ = null;\n    this.transform_ = require$_DOT__SLASH_proj_DOT_js.identityTransform;\n    this.watchId_ = undefined;\n    this.addChangeListener(Property.PROJECTION, this.handleProjectionChanged_);\n    this.addChangeListener(Property.TRACKING, this.handleTrackingChanged_);\n    if (options.projection !== undefined) {\n      this.setProjection(options.projection);\n    }\n    if (options.trackingOptions !== undefined) {\n      this.setTrackingOptions(options.trackingOptions);\n    }\n    this.setTracking(options.tracking !== undefined ? options.tracking : false);\n  }\n  disposeInternal() {\n    this.setTracking(false);\n    super.disposeInternal();\n  }\n  handleProjectionChanged_() {\n    const projection = this.getProjection();\n    if (projection) {\n      this.transform_ = (0,require$_DOT__SLASH_proj_DOT_js.getTransformFromProjections)((0,require$_DOT__SLASH_proj_DOT_js.get)(\"EPSG:4326\"), projection,);\n      if (this.position_) {\n        this.set(Property.POSITION, this.transform_(this.position_));\n      }\n    }\n  }\n  handleTrackingChanged_() {\n    if (\"geolocation\" in navigator) {\n      const tracking = this.getTracking();\n      if (tracking && this.watchId_ === undefined) {\n        this.watchId_ = navigator.geolocation.watchPosition(this.positionChange_.bind(this), this.positionError_.bind(this), this.getTrackingOptions(),);\n      } else if (!tracking && this.watchId_ !== undefined) {\n        navigator.geolocation.clearWatch(this.watchId_);\n        this.watchId_ = undefined;\n      }\n    }\n  }\n  positionChange_(position) {\n    const coords = position.coords;\n    this.set(Property.ACCURACY, coords.accuracy);\n    this.set(Property.ALTITUDE, coords.altitude === null ? undefined : coords.altitude,);\n    this.set(Property.ALTITUDE_ACCURACY, coords.altitudeAccuracy === null ? undefined : coords.altitudeAccuracy,);\n    this.set(Property.HEADING, coords.heading === null ? undefined : (0,require$_DOT__SLASH_math_DOT_js.toRadians)(coords.heading),);\n    if (!this.position_) {\n      this.position_ = [coords.longitude, coords.latitude];\n    } else {\n      this.position_[0] = coords.longitude;\n      this.position_[1] = coords.latitude;\n    }\n    const projectedPosition = this.transform_(this.position_);\n    this.set(Property.POSITION, projectedPosition.slice());\n    this.set(Property.SPEED, coords.speed === null ? undefined : coords.speed);\n    const geometry = (0,require$_DOT__SLASH_geom_SLASH_Polygon_DOT_js.circular)(this.position_, coords.accuracy);\n    geometry.applyTransform(this.transform_);\n    this.set(Property.ACCURACY_GEOMETRY, geometry);\n    this.changed();\n  }\n  positionError_(error) {\n    this.dispatchEvent(new GeolocationError(error));\n  }\n  getAccuracy() {\n    return this.get(Property.ACCURACY);\n  }\n  getAccuracyGeometry() {\n    return this.get(Property.ACCURACY_GEOMETRY) || null;\n  }\n  getAltitude() {\n    return this.get(Property.ALTITUDE);\n  }\n  getAltitudeAccuracy() {\n    return this.get(Property.ALTITUDE_ACCURACY);\n  }\n  getHeading() {\n    return this.get(Property.HEADING);\n  }\n  getPosition() {\n    return this.get(Property.POSITION);\n  }\n  getProjection() {\n    return this.get(Property.PROJECTION);\n  }\n  getSpeed() {\n    return this.get(Property.SPEED);\n  }\n  getTracking() {\n    return this.get(Property.TRACKING);\n  }\n  getTrackingOptions() {\n    return this.get(Property.TRACKING_OPTIONS);\n  }\n  setProjection(projection) {\n    this.set(Property.PROJECTION, (0,require$_DOT__SLASH_proj_DOT_js.get)(projection));\n  }\n  setTracking(tracking) {\n    this.set(Property.TRACKING, tracking);\n  }\n  setTrackingOptions(options) {\n    this.set(Property.TRACKING_OPTIONS, options);\n  }\n}\nconst $$default = Geolocation;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","GeolocationError","get","default","$$default","require$_DOT__SLASH_Object_DOT_js","require$_DOT__SLASH_events_SLASH_Event_DOT_js","require$_DOT__SLASH_geom_SLASH_Polygon_DOT_js","require$_DOT__SLASH_math_DOT_js","require$_DOT__SLASH_proj_DOT_js","default$$require$_DOT__SLASH_Object_DOT_js","esmDefault","default$$require$_DOT__SLASH_events_SLASH_Event_DOT_js","constructor","error","ERROR","code","message","Geolocation","options","on","once","un","position_","transform_","identityTransform","watchId_","undefined","addChangeListener","PROJECTION","handleProjectionChanged_","TRACKING","handleTrackingChanged_","projection","setProjection","trackingOptions","setTrackingOptions","setTracking","tracking","disposeInternal","getProjection","getTransformFromProjections","set","POSITION","navigator","getTracking","geolocation","watchPosition","positionChange_","bind","positionError_","getTrackingOptions","clearWatch","position","coords","ACCURACY","accuracy","ALTITUDE","altitude","ALTITUDE_ACCURACY","altitudeAccuracy","HEADING","heading","toRadians","longitude","latitude","projectedPosition","slice","SPEED","speed","geometry","circular","applyTransform","ACCURACY_GEOMETRY","changed","dispatchEvent","getAccuracy","getAccuracyGeometry","getAltitude","getAltitudeAccuracy","getHeading","getPosition","getSpeed","TRACKING_OPTIONS"]
}
