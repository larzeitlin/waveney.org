{
"version":3,
"file":"module$node_modules$ol$render$canvas$ExecutorGroup.js",
"lineCount":179,
"mappings":"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",
"sources":["node_modules/ol/render/canvas/ExecutorGroup.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$render$canvas$ExecutorGroup\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ALL:{enumerable:true, get:function() {\n  return ALL;\n}}, DECLUTTER:{enumerable:true, get:function() {\n  return DECLUTTER;\n}}, NON_DECLUTTER:{enumerable:true, get:function() {\n  return NON_DECLUTTER;\n}}, default:{enumerable:true, get:function() {\n  return $$default;\n}}, getPixelIndexArray:{enumerable:true, get:function() {\n  return getPixelIndexArray;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js = require(\"../../array.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js = require(\"../../dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js = require(\"../../extent.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_geom_SLASH_flat_SLASH_transform_DOT_js = require(\"../../geom/flat/transform.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_obj_DOT_js = require(\"../../obj.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_transform_DOT_js = require(\"../../transform.js\");\nvar require$_DOT__SLASH_Executor_DOT_js = require(\"./Executor.js\");\nvar default$$require$_DOT__SLASH_Executor_DOT_js = require.esmDefault(require$_DOT__SLASH_Executor_DOT_js);\nconst ALL = [\"Polygon\", \"Circle\", \"LineString\", \"Image\", \"Text\", \"Default\",];\nconst DECLUTTER = [\"Image\", \"Text\"];\nconst NON_DECLUTTER = ALL.filter(builderType => !DECLUTTER.includes(builderType),);\nclass ExecutorGroup {\n  constructor(maxExtent, resolution, pixelRatio, overlaps, allInstructions, renderBuffer, deferredRendering,) {\n    this.maxExtent_ = maxExtent;\n    this.overlaps_ = overlaps;\n    this.pixelRatio_ = pixelRatio;\n    this.resolution_ = resolution;\n    this.renderBuffer_ = renderBuffer;\n    this.executorsByZIndex_ = {};\n    this.hitDetectionContext_ = null;\n    this.hitDetectionTransform_ = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_transform_DOT_js.create)();\n    this.renderedContext_ = null;\n    this.deferredZIndexContexts_ = {};\n    this.createExecutors_(allInstructions, deferredRendering);\n  }\n  clip(context, transform) {\n    const flatClipCoords = this.getClipCoords(transform);\n    context.beginPath();\n    context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n    context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n    context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n    context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n    context.clip();\n  }\n  createExecutors_(allInstructions, deferredRendering) {\n    for (const zIndex in allInstructions) {\n      let executors = this.executorsByZIndex_[zIndex];\n      if (executors === undefined) {\n        executors = {};\n        this.executorsByZIndex_[zIndex] = executors;\n      }\n      const instructionByZindex = allInstructions[zIndex];\n      for (const builderType in instructionByZindex) {\n        const instructions = instructionByZindex[builderType];\n        executors[builderType] = new default$$require$_DOT__SLASH_Executor_DOT_js.default(this.resolution_, this.pixelRatio_, this.overlaps_, instructions, deferredRendering,);\n      }\n    }\n  }\n  hasExecutors(executors) {\n    for (const zIndex in this.executorsByZIndex_) {\n      const candidates = this.executorsByZIndex_[zIndex];\n      for (let i = 0, ii = executors.length; i < ii; ++i) {\n        if (executors[i] in candidates) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, callback, declutteredFeatures,) {\n    hitTolerance = Math.round(hitTolerance);\n    const contextSize = hitTolerance * 2 + 1;\n    const transform = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_transform_DOT_js.compose)(this.hitDetectionTransform_, hitTolerance + 0.5, hitTolerance + 0.5, 1 / resolution, -1 / resolution, -rotation, -coordinate[0], -coordinate[1],);\n    const newContext = !this.hitDetectionContext_;\n    if (newContext) {\n      this.hitDetectionContext_ = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.createCanvasContext2D)(contextSize, contextSize, undefined, {willReadFrequently:true},);\n    }\n    const context = this.hitDetectionContext_;\n    if (context.canvas.width !== contextSize || context.canvas.height !== contextSize) {\n      context.canvas.width = contextSize;\n      context.canvas.height = contextSize;\n    } else if (!newContext) {\n      context.clearRect(0, 0, contextSize, contextSize);\n    }\n    let hitExtent;\n    if (this.renderBuffer_ !== undefined) {\n      hitExtent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.createEmpty)();\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.extendCoordinate)(hitExtent, coordinate);\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.buffer)(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent,);\n    }\n    const indexes = getPixelIndexArray(hitTolerance);\n    let builderType;\n    function featureCallback(feature, geometry, declutterMode) {\n      const imageData = context.getImageData(0, 0, contextSize, contextSize,).data;\n      for (let i = 0, ii = indexes.length; i < ii; i++) {\n        if (imageData[indexes[i]] > 0) {\n          if (!declutteredFeatures || declutterMode === \"none\" || builderType !== \"Image\" && builderType !== \"Text\" || declutteredFeatures.includes(feature)) {\n            const idx = (indexes[i] - 3) / 4;\n            const x = hitTolerance - idx % contextSize;\n            const y = hitTolerance - (idx / contextSize | 0);\n            const result = callback(feature, geometry, x * x + y * y);\n            if (result) {\n              return result;\n            }\n          }\n          context.clearRect(0, 0, contextSize, contextSize);\n          break;\n        }\n      }\n      return undefined;\n    }\n    const zs = Object.keys(this.executorsByZIndex_).map(Number);\n    zs.sort(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js.ascending);\n    let i, j, executors, executor, result;\n    for (i = zs.length - 1; i >= 0; --i) {\n      const zIndexKey = zs[i].toString();\n      executors = this.executorsByZIndex_[zIndexKey];\n      for (j = ALL.length - 1; j >= 0; --j) {\n        builderType = ALL[j];\n        executor = executors[builderType];\n        if (executor !== undefined) {\n          result = executor.executeHitDetection(context, transform, rotation, featureCallback, hitExtent,);\n          if (result) {\n            return result;\n          }\n        }\n      }\n    }\n    return undefined;\n  }\n  getClipCoords(transform) {\n    const maxExtent = this.maxExtent_;\n    if (!maxExtent) {\n      return null;\n    }\n    const minX = maxExtent[0];\n    const minY = maxExtent[1];\n    const maxX = maxExtent[2];\n    const maxY = maxExtent[3];\n    const flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_geom_SLASH_flat_SLASH_transform_DOT_js.transform2D)(flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n    return flatClipCoords;\n  }\n  isEmpty() {\n    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_obj_DOT_js.isEmpty)(this.executorsByZIndex_);\n  }\n  execute(targetContext, scaledCanvasSize, transform, viewRotation, snapToPixel, builderTypes, declutterTree,) {\n    const zs = Object.keys(this.executorsByZIndex_).map(Number);\n    zs.sort(declutterTree ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js.descending : require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js.ascending);\n    builderTypes = builderTypes ? builderTypes : ALL;\n    const maxBuilderTypes = ALL.length;\n    for (let i = 0, ii = zs.length; i < ii; ++i) {\n      const zIndexKey = zs[i].toString();\n      const replays = this.executorsByZIndex_[zIndexKey];\n      for (let j = 0, jj = builderTypes.length; j < jj; ++j) {\n        const builderType = builderTypes[j];\n        const replay = replays[builderType];\n        if (replay !== undefined) {\n          const zIndexContext = declutterTree === null ? undefined : replay.getZIndexContext();\n          const context = zIndexContext ? zIndexContext.getContext() : targetContext;\n          const requireClip = this.maxExtent_ && builderType !== \"Image\" && builderType !== \"Text\";\n          if (requireClip) {\n            context.save();\n            this.clip(context, transform);\n          }\n          if (!zIndexContext || builderType === \"Text\" || builderType === \"Image\") {\n            replay.execute(context, scaledCanvasSize, transform, viewRotation, snapToPixel, declutterTree,);\n          } else {\n            zIndexContext.pushFunction(context => replay.execute(context, scaledCanvasSize, transform, viewRotation, snapToPixel, declutterTree,),);\n          }\n          if (requireClip) {\n            context.restore();\n          }\n          if (zIndexContext) {\n            zIndexContext.offset();\n            const index = zs[i] * maxBuilderTypes + j;\n            if (!this.deferredZIndexContexts_[index]) {\n              this.deferredZIndexContexts_[index] = [];\n            }\n            this.deferredZIndexContexts_[index].push(zIndexContext);\n          }\n        }\n      }\n    }\n    this.renderedContext_ = targetContext;\n  }\n  getDeferredZIndexContexts() {\n    return this.deferredZIndexContexts_;\n  }\n  getRenderedContext() {\n    return this.renderedContext_;\n  }\n  renderDeferred() {\n    const deferredZIndexContexts = this.deferredZIndexContexts_;\n    const zs = Object.keys(deferredZIndexContexts).map(Number).sort(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js.ascending);\n    for (let i = 0, ii = zs.length; i < ii; ++i) {\n      deferredZIndexContexts[zs[i]].forEach(zIndexContext => {\n        zIndexContext.draw(this.renderedContext_);\n        zIndexContext.clear();\n      });\n      deferredZIndexContexts[zs[i]].length = 0;\n    }\n  }\n}\nconst circlePixelIndexArrayCache = {};\nfunction getPixelIndexArray(radius) {\n  if (circlePixelIndexArrayCache[radius] !== undefined) {\n    return circlePixelIndexArrayCache[radius];\n  }\n  const size = radius * 2 + 1;\n  const maxDistanceSq = radius * radius;\n  const distances = new Array(maxDistanceSq + 1);\n  for (let i = 0; i <= radius; ++i) {\n    for (let j = 0; j <= radius; ++j) {\n      const distanceSq = i * i + j * j;\n      if (distanceSq > maxDistanceSq) {\n        break;\n      }\n      let distance = distances[distanceSq];\n      if (!distance) {\n        distance = [];\n        distances[distanceSq] = distance;\n      }\n      distance.push(((radius + i) * size + (radius + j)) * 4 + 3);\n      if (i > 0) {\n        distance.push(((radius - i) * size + (radius + j)) * 4 + 3);\n      }\n      if (j > 0) {\n        distance.push(((radius + i) * size + (radius - j)) * 4 + 3);\n        if (i > 0) {\n          distance.push(((radius - i) * size + (radius - j)) * 4 + 3);\n        }\n      }\n    }\n  }\n  const pixelIndex = [];\n  for (let i = 0, ii = distances.length; i < ii; ++i) {\n    if (distances[i]) {\n      pixelIndex.push(...distances[i]);\n    }\n  }\n  circlePixelIndexArrayCache[radius] = pixelIndex;\n  return pixelIndex;\n}\nconst $$default = ExecutorGroup;\n\n};"],
"names":["shadow$provide","global","require","module","exports","getPixelIndexArray","radius","undefined","circlePixelIndexArrayCache","size","maxDistanceSq","distances","Array","i","j","distanceSq","distance","push","pixelIndex","ii","length","Object","defineProperties","__esModule","enumerable","value","ALL","get","DECLUTTER","NON_DECLUTTER","default","$$default","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_geom_SLASH_flat_SLASH_transform_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_obj_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_transform_DOT_js","require$_DOT__SLASH_Executor_DOT_js","default$$require$_DOT__SLASH_Executor_DOT_js","esmDefault","filter","builderType","includes","ExecutorGroup","constructor","maxExtent","resolution","pixelRatio","overlaps","allInstructions","renderBuffer","deferredRendering","maxExtent_","overlaps_","pixelRatio_","resolution_","renderBuffer_","executorsByZIndex_","hitDetectionContext_","hitDetectionTransform_","create","renderedContext_","deferredZIndexContexts_","createExecutors_","clip","context","transform","flatClipCoords","getClipCoords","beginPath","moveTo","lineTo","zIndex","executors","instructionByZindex","instructions","hasExecutors","candidates","forEachFeatureAtCoordinate","coordinate","rotation","hitTolerance","callback","declutteredFeatures","featureCallback","feature","geometry","declutterMode","imageData","getImageData","contextSize","data","indexes","idx","result","x","y","clearRect","Math","round","compose","newContext","createCanvasContext2D","willReadFrequently","canvas","width","height","hitExtent","createEmpty","extendCoordinate","buffer","zs","keys","map","Number","sort","ascending","toString","zIndexKey","executor","executeHitDetection","minX","minY","maxX","maxY","transform2D","isEmpty","execute","targetContext","scaledCanvasSize","viewRotation","snapToPixel","builderTypes","declutterTree","descending","maxBuilderTypes","replays","jj","replay","zIndexContext","getZIndexContext","getContext","requireClip","save","pushFunction","restore","offset","index","getDeferredZIndexContexts","getRenderedContext","renderDeferred","deferredZIndexContexts","forEach","draw","clear"]
}
