{
"version":3,
"file":"module$node_modules$ol$reproj$Triangulation.js",
"lineCount":106,
"mappings":"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",
"sources":["node_modules/ol/reproj/Triangulation.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$reproj$Triangulation\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH_extent_DOT_js = require(\"../extent.js\");\nvar require$_DOT__DOT__SLASH_math_DOT_js = require(\"../math.js\");\nvar require$_DOT__DOT__SLASH_proj_DOT_js = require(\"../proj.js\");\nvar require$_DOT__DOT__SLASH_transform_DOT_js = require(\"../transform.js\");\nconst MAX_SUBDIVISION = 10;\nconst MAX_TRIANGLE_WIDTH = 0.25;\nclass Triangulation {\n  constructor(sourceProj, targetProj, targetExtent, maxSourceExtent, errorThreshold, destinationResolution, sourceMatrix,) {\n    this.sourceProj_ = sourceProj;\n    this.targetProj_ = targetProj;\n    let transformInvCache = {};\n    const transformInv = sourceMatrix ? (0,require$_DOT__DOT__SLASH_proj_DOT_js.createTransformFromCoordinateTransform)(input => (0,require$_DOT__DOT__SLASH_transform_DOT_js.apply)(sourceMatrix, (0,require$_DOT__DOT__SLASH_proj_DOT_js.transform)(input, this.targetProj_, this.sourceProj_),),) : (0,require$_DOT__DOT__SLASH_proj_DOT_js.getTransform)(this.targetProj_, this.sourceProj_);\n    this.transformInv_ = function(c) {\n      const key = c[0] + \"/\" + c[1];\n      if (!transformInvCache[key]) {\n        transformInvCache[key] = transformInv(c);\n      }\n      return transformInvCache[key];\n    };\n    this.maxSourceExtent_ = maxSourceExtent;\n    this.errorThresholdSquared_ = errorThreshold * errorThreshold;\n    this.triangles_ = [];\n    this.wrapsXInSource_ = false;\n    this.canWrapXInSource_ = this.sourceProj_.canWrapX() && !!maxSourceExtent && !!this.sourceProj_.getExtent() && (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(maxSourceExtent) >= (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(this.sourceProj_.getExtent());\n    this.sourceWorldWidth_ = this.sourceProj_.getExtent() ? (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(this.sourceProj_.getExtent()) : null;\n    this.targetWorldWidth_ = this.targetProj_.getExtent() ? (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(this.targetProj_.getExtent()) : null;\n    const destinationTopLeft = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getTopLeft)(targetExtent);\n    const destinationTopRight = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getTopRight)(targetExtent);\n    const destinationBottomRight = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getBottomRight)(targetExtent);\n    const destinationBottomLeft = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getBottomLeft)(targetExtent);\n    const sourceTopLeft = this.transformInv_(destinationTopLeft);\n    const sourceTopRight = this.transformInv_(destinationTopRight);\n    const sourceBottomRight = this.transformInv_(destinationBottomRight);\n    const sourceBottomLeft = this.transformInv_(destinationBottomLeft);\n    const maxSubdivision = MAX_SUBDIVISION + (destinationResolution ? Math.max(0, Math.ceil(Math.log2((0,require$_DOT__DOT__SLASH_extent_DOT_js.getArea)(targetExtent) / (destinationResolution * destinationResolution * 256 * 256),),),) : 0);\n    this.addQuad_(destinationTopLeft, destinationTopRight, destinationBottomRight, destinationBottomLeft, sourceTopLeft, sourceTopRight, sourceBottomRight, sourceBottomLeft, maxSubdivision,);\n    if (this.wrapsXInSource_) {\n      let leftBound = Infinity;\n      this.triangles_.forEach(function(triangle, i, arr) {\n        leftBound = Math.min(leftBound, triangle.source[0][0], triangle.source[1][0], triangle.source[2][0],);\n      });\n      this.triangles_.forEach(triangle => {\n        if (Math.max(triangle.source[0][0], triangle.source[1][0], triangle.source[2][0],) - leftBound > this.sourceWorldWidth_ / 2) {\n          const newTriangle = [[triangle.source[0][0], triangle.source[0][1]], [triangle.source[1][0], triangle.source[1][1]], [triangle.source[2][0], triangle.source[2][1]],];\n          if (newTriangle[0][0] - leftBound > this.sourceWorldWidth_ / 2) {\n            newTriangle[0][0] -= this.sourceWorldWidth_;\n          }\n          if (newTriangle[1][0] - leftBound > this.sourceWorldWidth_ / 2) {\n            newTriangle[1][0] -= this.sourceWorldWidth_;\n          }\n          if (newTriangle[2][0] - leftBound > this.sourceWorldWidth_ / 2) {\n            newTriangle[2][0] -= this.sourceWorldWidth_;\n          }\n          const minX = Math.min(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0],);\n          const maxX = Math.max(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0],);\n          if (maxX - minX < this.sourceWorldWidth_ / 2) {\n            triangle.source = newTriangle;\n          }\n        }\n      });\n    }\n    transformInvCache = {};\n  }\n  addTriangle_(a, b, c, aSrc, bSrc, cSrc) {\n    this.triangles_.push({source:[aSrc, bSrc, cSrc], target:[a, b, c],});\n  }\n  addQuad_(a, b, c, d, aSrc, bSrc, cSrc, dSrc, maxSubdivision) {\n    const sourceQuadExtent = (0,require$_DOT__DOT__SLASH_extent_DOT_js.boundingExtent)([aSrc, bSrc, cSrc, dSrc]);\n    const sourceCoverageX = this.sourceWorldWidth_ ? (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(sourceQuadExtent) / this.sourceWorldWidth_ : null;\n    const sourceWorldWidth = this.sourceWorldWidth_;\n    const wrapsX = this.sourceProj_.canWrapX() && sourceCoverageX > 0.5 && sourceCoverageX < 1;\n    let needsSubdivision = false;\n    if (maxSubdivision > 0) {\n      if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {\n        const targetQuadExtent = (0,require$_DOT__DOT__SLASH_extent_DOT_js.boundingExtent)([a, b, c, d]);\n        const targetCoverageX = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(targetQuadExtent) / this.targetWorldWidth_;\n        needsSubdivision = targetCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n      }\n      if (!wrapsX && this.sourceProj_.isGlobal() && sourceCoverageX) {\n        needsSubdivision = sourceCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n      }\n    }\n    if (!needsSubdivision && this.maxSourceExtent_) {\n      if (isFinite(sourceQuadExtent[0]) && isFinite(sourceQuadExtent[1]) && isFinite(sourceQuadExtent[2]) && isFinite(sourceQuadExtent[3])) {\n        if (!(0,require$_DOT__DOT__SLASH_extent_DOT_js.intersects)(sourceQuadExtent, this.maxSourceExtent_)) {\n          return;\n        }\n      }\n    }\n    let isNotFinite = 0;\n    if (!needsSubdivision) {\n      if (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) || !isFinite(bSrc[0]) || !isFinite(bSrc[1]) || !isFinite(cSrc[0]) || !isFinite(cSrc[1]) || !isFinite(dSrc[0]) || !isFinite(dSrc[1])) {\n        if (maxSubdivision > 0) {\n          needsSubdivision = true;\n        } else {\n          isNotFinite = (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) ? 8 : 0) + (!isFinite(bSrc[0]) || !isFinite(bSrc[1]) ? 4 : 0) + (!isFinite(cSrc[0]) || !isFinite(cSrc[1]) ? 2 : 0) + (!isFinite(dSrc[0]) || !isFinite(dSrc[1]) ? 1 : 0);\n          if (isNotFinite != 1 && isNotFinite != 2 && isNotFinite != 4 && isNotFinite != 8) {\n            return;\n          }\n        }\n      }\n    }\n    if (maxSubdivision > 0) {\n      if (!needsSubdivision) {\n        const center = [(a[0] + c[0]) / 2, (a[1] + c[1]) / 2];\n        const centerSrc = this.transformInv_(center);\n        let dx;\n        if (wrapsX) {\n          const centerSrcEstimX = ((0,require$_DOT__DOT__SLASH_math_DOT_js.modulo)(aSrc[0], sourceWorldWidth) + (0,require$_DOT__DOT__SLASH_math_DOT_js.modulo)(cSrc[0], sourceWorldWidth)) / 2;\n          dx = centerSrcEstimX - (0,require$_DOT__DOT__SLASH_math_DOT_js.modulo)(centerSrc[0], sourceWorldWidth);\n        } else {\n          dx = (aSrc[0] + cSrc[0]) / 2 - centerSrc[0];\n        }\n        const dy = (aSrc[1] + cSrc[1]) / 2 - centerSrc[1];\n        const centerSrcErrorSquared = dx * dx + dy * dy;\n        needsSubdivision = centerSrcErrorSquared > this.errorThresholdSquared_;\n      }\n      if (needsSubdivision) {\n        if (Math.abs(a[0] - c[0]) <= Math.abs(a[1] - c[1])) {\n          const bc = [(b[0] + c[0]) / 2, (b[1] + c[1]) / 2];\n          const bcSrc = this.transformInv_(bc);\n          const da = [(d[0] + a[0]) / 2, (d[1] + a[1]) / 2];\n          const daSrc = this.transformInv_(da);\n          this.addQuad_(a, b, bc, da, aSrc, bSrc, bcSrc, daSrc, maxSubdivision - 1,);\n          this.addQuad_(da, bc, c, d, daSrc, bcSrc, cSrc, dSrc, maxSubdivision - 1,);\n        } else {\n          const ab = [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2];\n          const abSrc = this.transformInv_(ab);\n          const cd = [(c[0] + d[0]) / 2, (c[1] + d[1]) / 2];\n          const cdSrc = this.transformInv_(cd);\n          this.addQuad_(a, ab, cd, d, aSrc, abSrc, cdSrc, dSrc, maxSubdivision - 1,);\n          this.addQuad_(ab, b, c, cd, abSrc, bSrc, cSrc, cdSrc, maxSubdivision - 1,);\n        }\n        return;\n      }\n    }\n    if (wrapsX) {\n      if (!this.canWrapXInSource_) {\n        return;\n      }\n      this.wrapsXInSource_ = true;\n    }\n    if ((isNotFinite & 11) == 0) {\n      this.addTriangle_(a, c, d, aSrc, cSrc, dSrc);\n    }\n    if ((isNotFinite & 14) == 0) {\n      this.addTriangle_(a, c, b, aSrc, cSrc, bSrc);\n    }\n    if (isNotFinite) {\n      if ((isNotFinite & 13) == 0) {\n        this.addTriangle_(b, d, a, bSrc, dSrc, aSrc);\n      }\n      if ((isNotFinite & 7) == 0) {\n        this.addTriangle_(b, d, c, bSrc, dSrc, cSrc);\n      }\n    }\n  }\n  calculateSourceExtent() {\n    const extent = (0,require$_DOT__DOT__SLASH_extent_DOT_js.createEmpty)();\n    this.triangles_.forEach(function(triangle, i, arr) {\n      const src = triangle.source;\n      (0,require$_DOT__DOT__SLASH_extent_DOT_js.extendCoordinate)(extent, src[0]);\n      (0,require$_DOT__DOT__SLASH_extent_DOT_js.extendCoordinate)(extent, src[1]);\n      (0,require$_DOT__DOT__SLASH_extent_DOT_js.extendCoordinate)(extent, src[2]);\n    });\n    return extent;\n  }\n  getTriangles() {\n    return this.triangles_;\n  }\n}\nconst $$default = Triangulation;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH_extent_DOT_js","require$_DOT__DOT__SLASH_math_DOT_js","require$_DOT__DOT__SLASH_proj_DOT_js","require$_DOT__DOT__SLASH_transform_DOT_js","Triangulation","constructor","sourceProj","targetProj","targetExtent","maxSourceExtent","errorThreshold","destinationResolution","sourceMatrix","sourceProj_","targetProj_","transformInvCache","transformInv","createTransformFromCoordinateTransform","input","apply","transform","getTransform","transformInv_","this.transformInv_","c","key","maxSourceExtent_","errorThresholdSquared_","triangles_","wrapsXInSource_","canWrapXInSource_","canWrapX","getExtent","getWidth","sourceWorldWidth_","targetWorldWidth_","destinationTopLeft","getTopLeft","destinationTopRight","getTopRight","destinationBottomRight","getBottomRight","destinationBottomLeft","getBottomLeft","sourceTopLeft","sourceTopRight","sourceBottomRight","sourceBottomLeft","maxSubdivision","MAX_SUBDIVISION","Math","max","ceil","log2","getArea","addQuad_","leftBound","Infinity","forEach","triangle","i","arr","min","source","newTriangle","maxX","minX","addTriangle_","a","b","aSrc","bSrc","cSrc","push","target","d","dSrc","sourceQuadExtent","boundingExtent","sourceCoverageX","sourceWorldWidth","wrapsX","needsSubdivision","isGlobal","targetQuadExtent","MAX_TRIANGLE_WIDTH","isFinite","intersects","isNotFinite","centerSrc","center","dx","modulo","dy","abs","bc","bcSrc","da","daSrc","ab","abSrc","cd","cdSrc","calculateSourceExtent","extent","createEmpty","src","extendCoordinate","getTriangles"]
}
