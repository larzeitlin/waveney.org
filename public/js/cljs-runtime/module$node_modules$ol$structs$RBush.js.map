{
"version":3,
"file":"module$node_modules$ol$structs$RBush.js",
"lineCount":80,
"mappings":"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",
"sources":["node_modules/ol/structs/RBush.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$structs$RBush\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$rbush = require(\"rbush\");\nvar require$_DOT__DOT__SLASH_extent_DOT_js = require(\"../extent.js\");\nvar require$_DOT__DOT__SLASH_obj_DOT_js = require(\"../obj.js\");\nvar require$_DOT__DOT__SLASH_util_DOT_js = require(\"../util.js\");\nvar default$$require$rbush = require.esmDefault(require$rbush);\nclass RBush {\n  constructor(maxEntries) {\n    this.rbush_ = new default$$require$rbush.default(maxEntries);\n    this.items_ = {};\n  }\n  insert(extent, value) {\n    const item = {minX:extent[0], minY:extent[1], maxX:extent[2], maxY:extent[3], value:value,};\n    this.rbush_.insert(item);\n    this.items_[(0,require$_DOT__DOT__SLASH_util_DOT_js.getUid)(value)] = item;\n  }\n  load(extents, values) {\n    const items = new Array(values.length);\n    for (let i = 0, l = values.length; i < l; i++) {\n      const extent = extents[i];\n      const value = values[i];\n      const item = {minX:extent[0], minY:extent[1], maxX:extent[2], maxY:extent[3], value:value,};\n      items[i] = item;\n      this.items_[(0,require$_DOT__DOT__SLASH_util_DOT_js.getUid)(value)] = item;\n    }\n    this.rbush_.load(items);\n  }\n  remove(value) {\n    const uid = (0,require$_DOT__DOT__SLASH_util_DOT_js.getUid)(value);\n    const item = this.items_[uid];\n    delete this.items_[uid];\n    return this.rbush_.remove(item) !== null;\n  }\n  update(extent, value) {\n    const item = this.items_[(0,require$_DOT__DOT__SLASH_util_DOT_js.getUid)(value)];\n    const bbox = [item.minX, item.minY, item.maxX, item.maxY];\n    if (!(0,require$_DOT__DOT__SLASH_extent_DOT_js.equals)(bbox, extent)) {\n      this.remove(value);\n      this.insert(extent, value);\n    }\n  }\n  getAll() {\n    const items = this.rbush_.all();\n    return items.map(function(item) {\n      return item.value;\n    });\n  }\n  getInExtent(extent) {\n    const bbox = {minX:extent[0], minY:extent[1], maxX:extent[2], maxY:extent[3],};\n    const items = this.rbush_.search(bbox);\n    return items.map(function(item) {\n      return item.value;\n    });\n  }\n  forEach(callback) {\n    return this.forEach_(this.getAll(), callback);\n  }\n  forEachInExtent(extent, callback) {\n    return this.forEach_(this.getInExtent(extent), callback);\n  }\n  forEach_(values, callback) {\n    let result;\n    for (let i = 0, l = values.length; i < l; i++) {\n      result = callback(values[i]);\n      if (result) {\n        return result;\n      }\n    }\n    return result;\n  }\n  isEmpty() {\n    return (0,require$_DOT__DOT__SLASH_obj_DOT_js.isEmpty)(this.items_);\n  }\n  clear() {\n    this.rbush_.clear();\n    this.items_ = {};\n  }\n  getExtent(extent) {\n    const data = this.rbush_.toJSON();\n    return (0,require$_DOT__DOT__SLASH_extent_DOT_js.createOrUpdate)(data.minX, data.minY, data.maxX, data.maxY, extent);\n  }\n  concat(rbush) {\n    this.rbush_.load(rbush.rbush_.all());\n    for (const i in rbush.items_) {\n      this.items_[i] = rbush.items_[i];\n    }\n  }\n}\nconst $$default = RBush;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$rbush","require$_DOT__DOT__SLASH_extent_DOT_js","require$_DOT__DOT__SLASH_obj_DOT_js","require$_DOT__DOT__SLASH_util_DOT_js","default$$require$rbush","esmDefault","RBush","constructor","maxEntries","rbush_","items_","insert","extent","item","minX","minY","maxX","maxY","getUid","load","extents","values","items","Array","length","i","l","remove","uid","update","equals","bbox","getAll","all","map","getInExtent","search","forEach","callback","forEach_","forEachInExtent","result","isEmpty","clear","getExtent","data","toJSON","createOrUpdate","concat","rbush"]
}
