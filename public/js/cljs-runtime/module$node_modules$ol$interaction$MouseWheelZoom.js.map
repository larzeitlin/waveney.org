{
"version":3,
"file":"module$node_modules$ol$interaction$MouseWheelZoom.js",
"lineCount":85,
"mappings":"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",
"sources":["node_modules/ol/interaction/MouseWheelZoom.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$interaction$MouseWheelZoom\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require(\"../events/EventType.js\");\nvar require$_DOT__DOT__SLASH_events_SLASH_condition_DOT_js = require(\"../events/condition.js\");\nvar require$_DOT__DOT__SLASH_has_DOT_js = require(\"../has.js\");\nvar require$_DOT__DOT__SLASH_math_DOT_js = require(\"../math.js\");\nvar require$_DOT__SLASH_Interaction_DOT_js = require(\"./Interaction.js\");\nvar default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js);\nvar default$$require$_DOT__SLASH_Interaction_DOT_js = require.esmDefault(require$_DOT__SLASH_Interaction_DOT_js);\nclass MouseWheelZoom extends default$$require$_DOT__SLASH_Interaction_DOT_js.default {\n  constructor(options) {\n    options = options ? options : {};\n    super(options,);\n    this.totalDelta_ = 0;\n    this.lastDelta_ = 0;\n    this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n    this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n    this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n    this.constrainResolution_ = options.constrainResolution !== undefined ? options.constrainResolution : false;\n    const condition = options.condition ? options.condition : require$_DOT__DOT__SLASH_events_SLASH_condition_DOT_js.always;\n    this.condition_ = options.onFocusOnly ? (0,require$_DOT__DOT__SLASH_events_SLASH_condition_DOT_js.all)(require$_DOT__DOT__SLASH_events_SLASH_condition_DOT_js.focusWithTabindex, condition) : condition;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_;\n    this.mode_ = undefined;\n    this.trackpadEventGap_ = 400;\n    this.trackpadTimeoutId_;\n    this.deltaPerZoom_ = 300;\n  }\n  endInteraction_() {\n    this.trackpadTimeoutId_ = undefined;\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    const view = map.getView();\n    view.endInteraction(undefined, this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0, this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null,);\n  }\n  handleEvent(mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    const type = mapBrowserEvent.type;\n    if (type !== default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.WHEEL) {\n      return true;\n    }\n    const map = mapBrowserEvent.map;\n    const wheelEvent = mapBrowserEvent.originalEvent;\n    wheelEvent.preventDefault();\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.pixel;\n    }\n    let delta;\n    if (mapBrowserEvent.type == default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.WHEEL) {\n      delta = wheelEvent.deltaY;\n      if (require$_DOT__DOT__SLASH_has_DOT_js.FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n        delta /= require$_DOT__DOT__SLASH_has_DOT_js.DEVICE_PIXEL_RATIO;\n      }\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    }\n    if (delta === 0) {\n      return false;\n    }\n    this.lastDelta_ = delta;\n    const now = Date.now();\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ? \"trackpad\" : \"wheel\";\n    }\n    const view = map.getView();\n    if (this.mode_ === \"trackpad\" && !(view.getConstrainResolution() || this.constrainResolution_)) {\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n        view.beginInteraction();\n      }\n      this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_,);\n      view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null,);\n      this.startTime_ = now;\n      return false;\n    }\n    this.totalDelta_ += delta;\n    const timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft,);\n    return false;\n  }\n  handleWheelZoom_(map) {\n    const view = map.getView();\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n    let delta = -(0,require$_DOT__DOT__SLASH_math_DOT_js.clamp)(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_,) / this.deltaPerZoom_;\n    if (view.getConstrainResolution() || this.constrainResolution_) {\n      delta = delta ? delta > 0 ? 1 : -1 : 0;\n    }\n    (0,require$_DOT__SLASH_Interaction_DOT_js.zoomByDelta)(view, delta, this.lastAnchor_ ? map.getCoordinateFromPixel(this.lastAnchor_) : null, this.duration_,);\n    this.mode_ = undefined;\n    this.totalDelta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  }\n  setMouseAnchor(useAnchor) {\n    this.useAnchor_ = useAnchor;\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  }\n}\nconst $$default = MouseWheelZoom;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","require$_DOT__DOT__SLASH_events_SLASH_condition_DOT_js","require$_DOT__DOT__SLASH_has_DOT_js","require$_DOT__DOT__SLASH_math_DOT_js","require$_DOT__SLASH_Interaction_DOT_js","default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","esmDefault","default$$require$_DOT__SLASH_Interaction_DOT_js","MouseWheelZoom","constructor","options","lastDelta_","totalDelta_","maxDelta_","undefined","maxDelta","duration_","duration","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","constrainResolution","condition","always","condition_","onFocusOnly","all","focusWithTabindex","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","deltaPerZoom_","endInteraction_","map","getMap","getView","view","endInteraction","getCoordinateFromPixel","handleEvent","mapBrowserEvent","type","WHEEL","wheelEvent","originalEvent","preventDefault","pixel","delta","deltaY","FIREFOX","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DEVICE_PIXEL_RATIO","DOM_DELTA_LINE","now","Date","Math","abs","getConstrainResolution","clearTimeout","getAnimating","cancelAnimations","beginInteraction","setTimeout","bind","adjustZoom","timeLeft","max","handleWheelZoom_","clamp","zoomByDelta","setMouseAnchor"]
}
