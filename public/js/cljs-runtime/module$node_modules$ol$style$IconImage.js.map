{
"version":3,
"file":"module$node_modules$ol$style$IconImage.js",
"lineCount":141,
"mappings":"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",
"sources":["node_modules/ol/style/IconImage.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$style$IconImage\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}, get:{enumerable:true, get:function() {\n  return get;\n}}});\nvar require$_DOT__DOT__SLASH_Image_DOT_js = require(\"../Image.js\");\nvar require$_DOT__DOT__SLASH_ImageState_DOT_js = require(\"../ImageState.js\");\nvar require$_DOT__DOT__SLASH_color_DOT_js = require(\"../color.js\");\nvar require$_DOT__DOT__SLASH_dom_DOT_js = require(\"../dom.js\");\nvar require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require(\"../events/EventType.js\");\nvar require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js = require(\"../events/Target.js\");\nvar require$_DOT__SLASH_IconImageCache_DOT_js = require(\"./IconImageCache.js\");\nvar default$$require$_DOT__DOT__SLASH_ImageState_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_ImageState_DOT_js);\nvar default$$require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js);\nvar default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js);\nlet taintedTestContext = null;\nclass IconImage extends default$$require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js.default {\n  constructor(image, src, crossOrigin, imageState, color) {\n    super();\n    this.hitDetectionImage_ = null;\n    this.image_ = image;\n    this.crossOrigin_ = crossOrigin;\n    this.canvas_ = {};\n    this.color_ = color;\n    this.imageState_ = imageState === undefined ? default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.IDLE : imageState;\n    this.size_ = image && image.width && image.height ? [image.width, image.height] : null;\n    this.src_ = src;\n    this.tainted_;\n    this.ready_ = null;\n  }\n  initializeImage_() {\n    this.image_ = new Image();\n    if (this.crossOrigin_ !== null) {\n      this.image_.crossOrigin = this.crossOrigin_;\n    }\n  }\n  isTainted_() {\n    if (this.tainted_ === undefined && this.imageState_ === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED) {\n      if (!taintedTestContext) {\n        taintedTestContext = (0,require$_DOT__DOT__SLASH_dom_DOT_js.createCanvasContext2D)(1, 1, undefined, {willReadFrequently:true,});\n      }\n      taintedTestContext.drawImage(this.image_, 0, 0);\n      try {\n        taintedTestContext.getImageData(0, 0, 1, 1);\n        this.tainted_ = false;\n      } catch {\n        taintedTestContext = null;\n        this.tainted_ = true;\n      }\n    }\n    return this.tainted_ === true;\n  }\n  dispatchChangeEvent_() {\n    this.dispatchEvent(default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.CHANGE);\n  }\n  handleImageError_() {\n    this.imageState_ = default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.ERROR;\n    this.dispatchChangeEvent_();\n  }\n  handleImageLoad_() {\n    this.imageState_ = default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED;\n    this.size_ = [this.image_.width, this.image_.height];\n    this.dispatchChangeEvent_();\n  }\n  getImage(pixelRatio) {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n  }\n  getPixelRatio(pixelRatio) {\n    this.replaceColor_(pixelRatio);\n    return this.canvas_[pixelRatio] ? pixelRatio : 1;\n  }\n  getImageState() {\n    return this.imageState_;\n  }\n  getHitDetectionImage() {\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    if (!this.hitDetectionImage_) {\n      if (this.isTainted_()) {\n        const width = this.size_[0];\n        const height = this.size_[1];\n        const context = (0,require$_DOT__DOT__SLASH_dom_DOT_js.createCanvasContext2D)(width, height);\n        context.fillRect(0, 0, width, height);\n        this.hitDetectionImage_ = context.canvas;\n      } else {\n        this.hitDetectionImage_ = this.image_;\n      }\n    }\n    return this.hitDetectionImage_;\n  }\n  getSize() {\n    return this.size_;\n  }\n  getSrc() {\n    return this.src_;\n  }\n  load() {\n    if (this.imageState_ !== default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.IDLE) {\n      return;\n    }\n    if (!this.image_) {\n      this.initializeImage_();\n    }\n    this.imageState_ = default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADING;\n    try {\n      if (this.src_ !== undefined) {\n        this.image_.src = this.src_;\n      }\n    } catch {\n      this.handleImageError_();\n    }\n    if (this.image_ instanceof HTMLImageElement) {\n      (0,require$_DOT__DOT__SLASH_Image_DOT_js.decodeFallback)(this.image_, this.src_).then(image => {\n        this.image_ = image;\n        this.handleImageLoad_();\n      }).catch(this.handleImageError_.bind(this));\n    }\n  }\n  replaceColor_(pixelRatio) {\n    if (!this.color_ || this.canvas_[pixelRatio] || this.imageState_ !== default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED) {\n      return;\n    }\n    const image = this.image_;\n    const ctx = (0,require$_DOT__DOT__SLASH_dom_DOT_js.createCanvasContext2D)(Math.ceil(image.width * pixelRatio), Math.ceil(image.height * pixelRatio),);\n    const canvas = ctx.canvas;\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.drawImage(image, 0, 0);\n    ctx.globalCompositeOperation = \"multiply\";\n    ctx.fillStyle = (0,require$_DOT__DOT__SLASH_color_DOT_js.asString)(this.color_);\n    ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n    ctx.globalCompositeOperation = \"destination-in\";\n    ctx.drawImage(image, 0, 0);\n    this.canvas_[pixelRatio] = canvas;\n  }\n  ready() {\n    if (!this.ready_) {\n      this.ready_ = new Promise(resolve => {\n        if (this.imageState_ === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED || this.imageState_ === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.ERROR) {\n          resolve();\n        } else {\n          const onChange = () => {\n            if (this.imageState_ === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED || this.imageState_ === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.ERROR) {\n              this.removeEventListener(default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.CHANGE, onChange);\n              resolve();\n            }\n          };\n          this.addEventListener(default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.CHANGE, onChange);\n        }\n      });\n    }\n    return this.ready_;\n  }\n}\nfunction get(image, cacheKey, crossOrigin, imageState, color, pattern) {\n  let iconImage = cacheKey === undefined ? undefined : require$_DOT__SLASH_IconImageCache_DOT_js.shared.get(cacheKey, crossOrigin, color);\n  if (!iconImage) {\n    iconImage = new IconImage(image, image && \"src\" in image ? image.src || undefined : cacheKey, crossOrigin, imageState, color,);\n    require$_DOT__SLASH_IconImageCache_DOT_js.shared.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  if (pattern && iconImage && !require$_DOT__SLASH_IconImageCache_DOT_js.shared.getPattern(cacheKey, crossOrigin, color)) {\n    require$_DOT__SLASH_IconImageCache_DOT_js.shared.set(cacheKey, crossOrigin, color, iconImage, pattern);\n  }\n  return iconImage;\n}\nconst $$default = IconImage;\n\n};"],
"names":["shadow$provide","global","require","module","exports","get","image","cacheKey","crossOrigin","imageState","color","pattern","iconImage","undefined","require$_DOT__SLASH_IconImageCache_DOT_js","shared","IconImage","src","set","getPattern","Object","defineProperties","__esModule","enumerable","value","default","$$default","require$_DOT__DOT__SLASH_Image_DOT_js","require$_DOT__DOT__SLASH_ImageState_DOT_js","require$_DOT__DOT__SLASH_color_DOT_js","require$_DOT__DOT__SLASH_dom_DOT_js","require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js","default$$require$_DOT__DOT__SLASH_ImageState_DOT_js","esmDefault","default$$require$_DOT__DOT__SLASH_events_SLASH_Target_DOT_js","default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","taintedTestContext","constructor","hitDetectionImage_","image_","crossOrigin_","canvas_","color_","imageState_","IDLE","size_","width","height","src_","tainted_","ready_","initializeImage_","Image","isTainted_","LOADED","createCanvasContext2D","willReadFrequently","drawImage","getImageData","dispatchChangeEvent_","dispatchEvent","CHANGE","handleImageError_","ERROR","handleImageLoad_","getImage","pixelRatio","replaceColor_","getPixelRatio","getImageState","getHitDetectionImage","context","fillRect","canvas","getSize","getSrc","load","LOADING","HTMLImageElement","decodeFallback","then","catch","bind","ctx","Math","ceil","scale","globalCompositeOperation","fillStyle","asString","ready","Promise","resolve","onChange","removeEventListener","addEventListener"]
}
