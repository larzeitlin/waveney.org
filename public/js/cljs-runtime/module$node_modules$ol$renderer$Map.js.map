{
"version":3,
"file":"module$node_modules$ol$renderer$Map.js",
"lineCount":73,
"mappings":"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",
"sources":["node_modules/ol/renderer/Map.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$renderer$Map\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH_Disposable_DOT_js = require(\"../Disposable.js\");\nvar require$_DOT__DOT__SLASH_coordinate_DOT_js = require(\"../coordinate.js\");\nvar require$_DOT__DOT__SLASH_extent_DOT_js = require(\"../extent.js\");\nvar require$_DOT__DOT__SLASH_functions_DOT_js = require(\"../functions.js\");\nvar require$_DOT__DOT__SLASH_layer_SLASH_Layer_DOT_js = require(\"../layer/Layer.js\");\nvar require$_DOT__DOT__SLASH_style_SLASH_IconImageCache_DOT_js = require(\"../style/IconImageCache.js\");\nvar require$_DOT__DOT__SLASH_transform_DOT_js = require(\"../transform.js\");\nvar require$_DOT__DOT__SLASH_util_DOT_js = require(\"../util.js\");\nvar default$$require$_DOT__DOT__SLASH_Disposable_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_Disposable_DOT_js);\nclass MapRenderer extends default$$require$_DOT__DOT__SLASH_Disposable_DOT_js.default {\n  constructor(map) {\n    super();\n    this.map_ = map;\n  }\n  dispatchRenderEvent(type, frameState) {\n    (0,require$_DOT__DOT__SLASH_util_DOT_js.abstract)();\n  }\n  calculateMatrices2D(frameState) {\n    const viewState = frameState.viewState;\n    const coordinateToPixelTransform = frameState.coordinateToPixelTransform;\n    const pixelToCoordinateTransform = frameState.pixelToCoordinateTransform;\n    (0,require$_DOT__DOT__SLASH_transform_DOT_js.compose)(coordinateToPixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / viewState.resolution, -1 / viewState.resolution, -viewState.rotation, -viewState.center[0], -viewState.center[1],);\n    (0,require$_DOT__DOT__SLASH_transform_DOT_js.makeInverse)(pixelToCoordinateTransform, coordinateToPixelTransform);\n  }\n  forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, checkWrapped, callback, thisArg, layerFilter, thisArg2,) {\n    let result;\n    const viewState = frameState.viewState;\n    function forEachFeatureAtCoordinate(managed, feature, layer, geometry) {\n      return callback.call(thisArg, feature, managed ? layer : null, geometry);\n    }\n    const projection = viewState.projection;\n    const translatedCoordinate = (0,require$_DOT__DOT__SLASH_coordinate_DOT_js.wrapX)(coordinate.slice(), projection);\n    const offsets = [[0, 0]];\n    if (projection.canWrapX() && checkWrapped) {\n      const projectionExtent = projection.getExtent();\n      const worldWidth = (0,require$_DOT__DOT__SLASH_extent_DOT_js.getWidth)(projectionExtent);\n      offsets.push([-worldWidth, 0], [worldWidth, 0]);\n    }\n    const layerStates = frameState.layerStatesArray;\n    const numLayers = layerStates.length;\n    const matches = [];\n    const tmpCoord = [];\n    for (let i = 0; i < offsets.length; i++) {\n      for (let j = numLayers - 1; j >= 0; --j) {\n        const layerState = layerStates[j];\n        const layer = layerState.layer;\n        if (layer.hasRenderer() && (0,require$_DOT__DOT__SLASH_layer_SLASH_Layer_DOT_js.inView)(layerState, viewState) && layerFilter.call(thisArg2, layer)) {\n          const layerRenderer = layer.getRenderer();\n          const source = layer.getSource();\n          if (layerRenderer && source) {\n            const coordinates = source.getWrapX() ? translatedCoordinate : coordinate;\n            const callback = forEachFeatureAtCoordinate.bind(null, layerState.managed,);\n            tmpCoord[0] = coordinates[0] + offsets[i][0];\n            tmpCoord[1] = coordinates[1] + offsets[i][1];\n            result = layerRenderer.forEachFeatureAtCoordinate(tmpCoord, frameState, hitTolerance, callback, matches,);\n          }\n          if (result) {\n            return result;\n          }\n        }\n      }\n    }\n    if (matches.length === 0) {\n      return undefined;\n    }\n    const order = 1 / matches.length;\n    matches.forEach((m, i) => m.distanceSq += i * order);\n    matches.sort((a, b) => a.distanceSq - b.distanceSq);\n    matches.some(m => {\n      return result = m.callback(m.feature, m.layer, m.geometry);\n    });\n    return result;\n  }\n  hasFeatureAtCoordinate(coordinate, frameState, hitTolerance, checkWrapped, layerFilter, thisArg,) {\n    const hasFeature = this.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, checkWrapped, require$_DOT__DOT__SLASH_functions_DOT_js.TRUE, this, layerFilter, thisArg,);\n    return hasFeature !== undefined;\n  }\n  getMap() {\n    return this.map_;\n  }\n  renderFrame(frameState) {\n    (0,require$_DOT__DOT__SLASH_util_DOT_js.abstract)();\n  }\n  scheduleExpireIconCache(frameState) {\n    if (require$_DOT__DOT__SLASH_style_SLASH_IconImageCache_DOT_js.shared.canExpireCache()) {\n      frameState.postRenderFunctions.push(expireIconCache);\n    }\n  }\n}\nfunction expireIconCache(map, frameState) {\n  require$_DOT__DOT__SLASH_style_SLASH_IconImageCache_DOT_js.shared.expire();\n}\nconst $$default = MapRenderer;\n\n};"],
"names":["shadow$provide","global","require","module","exports","expireIconCache","map","frameState","require$_DOT__DOT__SLASH_style_SLASH_IconImageCache_DOT_js","shared","expire","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH_Disposable_DOT_js","require$_DOT__DOT__SLASH_coordinate_DOT_js","require$_DOT__DOT__SLASH_extent_DOT_js","require$_DOT__DOT__SLASH_functions_DOT_js","require$_DOT__DOT__SLASH_layer_SLASH_Layer_DOT_js","require$_DOT__DOT__SLASH_transform_DOT_js","require$_DOT__DOT__SLASH_util_DOT_js","default$$require$_DOT__DOT__SLASH_Disposable_DOT_js","esmDefault","MapRenderer","constructor","map_","dispatchRenderEvent","type","abstract","calculateMatrices2D","viewState","coordinateToPixelTransform","pixelToCoordinateTransform","compose","size","resolution","rotation","center","makeInverse","forEachFeatureAtCoordinate","coordinate","hitTolerance","checkWrapped","callback","thisArg","layerFilter","thisArg2","managed","feature","layer","geometry","call","result","projection","translatedCoordinate","wrapX","slice","offsets","canWrapX","projectionExtent","getExtent","worldWidth","getWidth","push","layerStates","layerStatesArray","numLayers","length","matches","tmpCoord","i","j","layerState","hasRenderer","inView","layerRenderer","getRenderer","source","getSource","coordinates","getWrapX","bind","order","forEach","m","distanceSq","sort","a","b","some","hasFeatureAtCoordinate","undefined","hasFeature","TRUE","getMap","renderFrame","scheduleExpireIconCache","canExpireCache","postRenderFunctions"]
}
