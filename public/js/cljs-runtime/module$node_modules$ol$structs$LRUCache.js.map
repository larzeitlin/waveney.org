{
"version":3,
"file":"module$node_modules$ol$structs$LRUCache.js",
"lineCount":128,
"mappings":"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",
"sources":["node_modules/ol/structs/LRUCache.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$structs$LRUCache\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH_Disposable_DOT_js = require(\"../Disposable.js\");\nvar require$_DOT__DOT__SLASH_asserts_DOT_js = require(\"../asserts.js\");\nvar default$$require$_DOT__DOT__SLASH_Disposable_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_Disposable_DOT_js);\nclass LRUCache {\n  constructor(highWaterMark) {\n    this.highWaterMark = highWaterMark !== undefined ? highWaterMark : 2048;\n    this.count_ = 0;\n    this.entries_ = {};\n    this.oldest_ = null;\n    this.newest_ = null;\n  }\n  deleteOldest() {\n    const entry = this.pop();\n    if (entry instanceof default$$require$_DOT__DOT__SLASH_Disposable_DOT_js.default) {\n      entry.dispose();\n    }\n  }\n  canExpireCache() {\n    return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;\n  }\n  expireCache(keep) {\n    while (this.canExpireCache()) {\n      this.deleteOldest();\n    }\n  }\n  clear() {\n    while (this.oldest_) {\n      this.deleteOldest();\n    }\n  }\n  containsKey(key) {\n    return this.entries_.hasOwnProperty(key);\n  }\n  forEach(f) {\n    let entry = this.oldest_;\n    while (entry) {\n      f(entry.value_, entry.key_, this);\n      entry = entry.newer;\n    }\n  }\n  get(key, options) {\n    const entry = this.entries_[key];\n    (0,require$_DOT__DOT__SLASH_asserts_DOT_js.assert)(entry !== undefined, \"Tried to get a value for a key that does not exist in the cache\",);\n    if (entry === this.newest_) {\n      return entry.value_;\n    }\n    if (entry === this.oldest_) {\n      this.oldest_ = this.oldest_.newer;\n      this.oldest_.older = null;\n    } else {\n      entry.newer.older = entry.older;\n      entry.older.newer = entry.newer;\n    }\n    entry.newer = null;\n    entry.older = this.newest_;\n    this.newest_.newer = entry;\n    this.newest_ = entry;\n    return entry.value_;\n  }\n  remove(key) {\n    const entry = this.entries_[key];\n    (0,require$_DOT__DOT__SLASH_asserts_DOT_js.assert)(entry !== undefined, \"Tried to get a value for a key that does not exist in the cache\",);\n    if (entry === this.newest_) {\n      this.newest_ = entry.older;\n      if (this.newest_) {\n        this.newest_.newer = null;\n      }\n    } else if (entry === this.oldest_) {\n      this.oldest_ = entry.newer;\n      if (this.oldest_) {\n        this.oldest_.older = null;\n      }\n    } else {\n      entry.newer.older = entry.older;\n      entry.older.newer = entry.newer;\n    }\n    delete this.entries_[key];\n    --this.count_;\n    return entry.value_;\n  }\n  getCount() {\n    return this.count_;\n  }\n  getKeys() {\n    const keys = new Array(this.count_);\n    let i = 0;\n    let entry;\n    for (entry = this.newest_; entry; entry = entry.older) {\n      keys[i++] = entry.key_;\n    }\n    return keys;\n  }\n  getValues() {\n    const values = new Array(this.count_);\n    let i = 0;\n    let entry;\n    for (entry = this.newest_; entry; entry = entry.older) {\n      values[i++] = entry.value_;\n    }\n    return values;\n  }\n  peekLast() {\n    return this.oldest_.value_;\n  }\n  peekLastKey() {\n    return this.oldest_.key_;\n  }\n  peekFirstKey() {\n    return this.newest_.key_;\n  }\n  peek(key) {\n    return this.entries_[key]?.value_;\n  }\n  pop() {\n    const entry = this.oldest_;\n    delete this.entries_[entry.key_];\n    if (entry.newer) {\n      entry.newer.older = null;\n    }\n    this.oldest_ = entry.newer;\n    if (!this.oldest_) {\n      this.newest_ = null;\n    }\n    --this.count_;\n    return entry.value_;\n  }\n  replace(key, value) {\n    this.get(key);\n    this.entries_[key].value_ = value;\n  }\n  set(key, value) {\n    (0,require$_DOT__DOT__SLASH_asserts_DOT_js.assert)(!(key in this.entries_), \"Tried to set a value for a key that is used already\",);\n    const entry = {key_:key, newer:null, older:this.newest_, value_:value,};\n    if (!this.newest_) {\n      this.oldest_ = entry;\n    } else {\n      this.newest_.newer = entry;\n    }\n    this.newest_ = entry;\n    this.entries_[key] = entry;\n    ++this.count_;\n  }\n  setSize(size) {\n    this.highWaterMark = size;\n  }\n}\nconst $$default = LRUCache;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH_Disposable_DOT_js","require$_DOT__DOT__SLASH_asserts_DOT_js","default$$require$_DOT__DOT__SLASH_Disposable_DOT_js","esmDefault","LRUCache","constructor","highWaterMark","undefined","count_","entries_","newest_","oldest_","deleteOldest","entry","pop","dispose","canExpireCache","getCount","expireCache","keep","clear","containsKey","key","hasOwnProperty","forEach","f","value_","key_","newer","options","assert","older","remove","getKeys","keys","Array","i","getValues","values","peekLast","peekLastKey","peekFirstKey","peek","replace","set","setSize","size"]
}
