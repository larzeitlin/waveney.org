{
"version":3,
"file":"module$node_modules$ol$renderer$canvas$VectorLayer.js",
"lineCount":247,
"mappings":"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",
"sources":["node_modules/ol/renderer/canvas/VectorLayer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$renderer$canvas$VectorLayer\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js = require(\"../../ViewHint.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js = require(\"../../array.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_coordinate_DOT_js = require(\"../../coordinate.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js = require(\"../../dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js = require(\"../../extent.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js = require(\"../../proj.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js = require(\"../../render/EventType.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js = require(\"../../render/canvas/BuilderGroup.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js = require(\"../../render/canvas/ExecutorGroup.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js = require(\"../../render/canvas/hitdetect.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_util_DOT_js = require(\"../../util.js\");\nvar require$_DOT__DOT__SLASH_vector_DOT_js = require(\"../vector.js\");\nvar require$_DOT__SLASH_Layer_DOT_js = require(\"./Layer.js\");\nvar default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js);\nvar default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js);\nvar default$$require$_DOT__SLASH_Layer_DOT_js = require.esmDefault(require$_DOT__SLASH_Layer_DOT_js);\nvar default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js);\nvar default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js);\nclass CanvasVectorLayerRenderer extends default$$require$_DOT__SLASH_Layer_DOT_js.default {\n  constructor(vectorLayer) {\n    super(vectorLayer);\n    this.boundHandleStyleImageChange_ = this.handleStyleImageChange_.bind(this);\n    this.animatingOrInteracting_;\n    this.hitDetectionImageData_ = null;\n    this.clipped_ = false;\n    this.renderedFeatures_ = null;\n    this.renderedRevision_ = -1;\n    this.renderedResolution_ = NaN;\n    this.renderedExtent_ = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.createEmpty)();\n    this.wrappedRenderedExtent_ = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.createEmpty)();\n    this.renderedRotation_;\n    this.renderedCenter_ = null;\n    this.renderedProjection_ = null;\n    this.renderedPixelRatio_ = 1;\n    this.renderedRenderOrder_ = null;\n    this.renderedFrameDeclutter_;\n    this.replayGroup_ = null;\n    this.replayGroupChanged = true;\n    this.clipping = true;\n    this.targetContext_ = null;\n    this.opacity_ = 1;\n  }\n  renderWorlds(executorGroup, frameState, declutterable) {\n    const extent = frameState.extent;\n    const viewState = frameState.viewState;\n    const center = viewState.center;\n    const resolution = viewState.resolution;\n    const projection = viewState.projection;\n    const rotation = viewState.rotation;\n    const projectionExtent = projection.getExtent();\n    const vectorSource = this.getLayer().getSource();\n    const declutter = this.getLayer().getDeclutter();\n    const pixelRatio = frameState.pixelRatio;\n    const viewHints = frameState.viewHints;\n    const snapToPixel = !(viewHints[default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js.default.ANIMATING] || viewHints[default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js.default.INTERACTING]);\n    const context = this.context;\n    const width = Math.round((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getWidth)(extent) / resolution * pixelRatio);\n    const height = Math.round((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getHeight)(extent) / resolution * pixelRatio);\n    const multiWorld = vectorSource.getWrapX() && projection.canWrapX();\n    const worldWidth = multiWorld ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getWidth)(projectionExtent) : null;\n    const endWorld = multiWorld ? Math.ceil((extent[2] - projectionExtent[2]) / worldWidth) + 1 : 1;\n    let world = multiWorld ? Math.floor((extent[0] - projectionExtent[0]) / worldWidth) : 0;\n    do {\n      let transform = this.getRenderTransform(center, resolution, 0, pixelRatio, width, height, world * worldWidth,);\n      if (frameState.declutter) {\n        transform = transform.slice(0);\n      }\n      executorGroup.execute(context, [context.canvas.width, context.canvas.height], transform, rotation, snapToPixel, declutterable === undefined ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js.ALL : declutterable ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js.DECLUTTER : require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js.NON_DECLUTTER, declutterable ? declutter && frameState.declutter[declutter] : \n      undefined,);\n    } while (++world < endWorld);\n  }\n  setDrawContext_() {\n    if (this.opacity_ !== 1) {\n      this.targetContext_ = this.context;\n      this.context = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.createCanvasContext2D)(this.context.canvas.width, this.context.canvas.height, require$_DOT__SLASH_Layer_DOT_js.canvasPool,);\n    }\n  }\n  resetDrawContext_() {\n    if (this.opacity_ !== 1) {\n      const alpha = this.targetContext_.globalAlpha;\n      this.targetContext_.globalAlpha = this.opacity_;\n      this.targetContext_.drawImage(this.context.canvas, 0, 0);\n      this.targetContext_.globalAlpha = alpha;\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.releaseCanvas)(this.context);\n      require$_DOT__SLASH_Layer_DOT_js.canvasPool.push(this.context.canvas);\n      this.context = this.targetContext_;\n      this.targetContext_ = null;\n    }\n  }\n  renderDeclutter(frameState) {\n    if (!this.replayGroup_ || !this.getLayer().getDeclutter()) {\n      return;\n    }\n    this.renderWorlds(this.replayGroup_, frameState, true);\n  }\n  renderDeferredInternal(frameState) {\n    if (!this.replayGroup_) {\n      return;\n    }\n    this.replayGroup_.renderDeferred();\n    if (this.clipped_) {\n      this.context.restore();\n    }\n    this.resetDrawContext_();\n  }\n  renderFrame(frameState, target) {\n    const layerState = frameState.layerStatesArray[frameState.layerIndex];\n    this.opacity_ = layerState.opacity;\n    const viewState = frameState.viewState;\n    this.prepareContainer(frameState, target);\n    const context = this.context;\n    const replayGroup = this.replayGroup_;\n    let render = replayGroup && !replayGroup.isEmpty();\n    if (!render) {\n      const hasRenderListeners = this.getLayer().hasListener(default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js.default.PRERENDER) || this.getLayer().hasListener(default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js.default.POSTRENDER);\n      if (!hasRenderListeners) {\n        return null;\n      }\n    }\n    this.setDrawContext_();\n    this.preRender(context, frameState);\n    const projection = viewState.projection;\n    this.clipped_ = false;\n    if (render && layerState.extent && this.clipping) {\n      const layerExtent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.fromUserExtent)(layerState.extent, projection);\n      render = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.intersects)(layerExtent, frameState.extent);\n      this.clipped_ = render && !(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.containsExtent)(layerExtent, frameState.extent);\n      if (this.clipped_) {\n        this.clipUnrotated(context, frameState, layerExtent);\n      }\n    }\n    if (render) {\n      this.renderWorlds(replayGroup, frameState, this.getLayer().getDeclutter() ? false : undefined,);\n    }\n    if (!frameState.declutter && this.clipped_) {\n      context.restore();\n    }\n    this.postRender(context, frameState);\n    if (this.renderedRotation_ !== viewState.rotation) {\n      this.renderedRotation_ = viewState.rotation;\n      this.hitDetectionImageData_ = null;\n    }\n    if (!frameState.declutter) {\n      this.resetDrawContext_();\n    }\n    return this.container;\n  }\n  getFeatures(pixel) {\n    return new Promise(resolve => {\n      if (this.frameState && !this.hitDetectionImageData_ && !this.animatingOrInteracting_) {\n        const size = this.frameState.size.slice();\n        const center = this.renderedCenter_;\n        const resolution = this.renderedResolution_;\n        const rotation = this.renderedRotation_;\n        const projection = this.renderedProjection_;\n        const extent = this.wrappedRenderedExtent_;\n        const layer = this.getLayer();\n        const transforms = [];\n        const width = size[0] * require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.HIT_DETECT_RESOLUTION;\n        const height = size[1] * require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.HIT_DETECT_RESOLUTION;\n        transforms.push(this.getRenderTransform(center, resolution, rotation, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.HIT_DETECT_RESOLUTION, width, height, 0,).slice(),);\n        const source = layer.getSource();\n        const projectionExtent = projection.getExtent();\n        if (source.getWrapX() && projection.canWrapX() && !(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.containsExtent)(projectionExtent, extent)) {\n          let startX = extent[0];\n          const worldWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getWidth)(projectionExtent);\n          let world = 0;\n          let offsetX;\n          while (startX < projectionExtent[0]) {\n            --world;\n            offsetX = worldWidth * world;\n            transforms.push(this.getRenderTransform(center, resolution, rotation, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.HIT_DETECT_RESOLUTION, width, height, offsetX,).slice(),);\n            startX += worldWidth;\n          }\n          world = 0;\n          startX = extent[2];\n          while (startX > projectionExtent[2]) {\n            ++world;\n            offsetX = worldWidth * world;\n            transforms.push(this.getRenderTransform(center, resolution, rotation, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.HIT_DETECT_RESOLUTION, width, height, offsetX,).slice(),);\n            startX -= worldWidth;\n          }\n        }\n        const userProjection = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.getUserProjection)();\n        this.hitDetectionImageData_ = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.createHitDetectionImageData)(size, transforms, this.renderedFeatures_, layer.getStyleFunction(), extent, resolution, rotation, (0,require$_DOT__DOT__SLASH_vector_DOT_js.getSquaredTolerance)(resolution, this.renderedPixelRatio_), userProjection ? projection : null,);\n      }\n      resolve((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js.hitDetect)(pixel, this.renderedFeatures_, this.hitDetectionImageData_),);\n    });\n  }\n  forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, callback, matches,) {\n    if (!this.replayGroup_) {\n      return undefined;\n    }\n    const resolution = frameState.viewState.resolution;\n    const rotation = frameState.viewState.rotation;\n    const layer = this.getLayer();\n    const features = {};\n    const featureCallback = function(feature, geometry, distanceSq) {\n      const key = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_util_DOT_js.getUid)(feature);\n      const match = features[key];\n      if (!match) {\n        if (distanceSq === 0) {\n          features[key] = true;\n          return callback(feature, layer, geometry);\n        }\n        matches.push(features[key] = {feature:feature, layer:layer, geometry:geometry, distanceSq:distanceSq, callback:callback,},);\n      } else if (match !== true && distanceSq < match.distanceSq) {\n        if (distanceSq === 0) {\n          features[key] = true;\n          matches.splice(matches.lastIndexOf(match), 1);\n          return callback(feature, layer, geometry);\n        }\n        match.geometry = geometry;\n        match.distanceSq = distanceSq;\n      }\n      return undefined;\n    };\n    const declutter = this.getLayer().getDeclutter();\n    return this.replayGroup_.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, featureCallback, declutter ? frameState.declutter?.[declutter]?.all().map(item => item.value) : null,);\n  }\n  handleFontsChanged() {\n    const layer = this.getLayer();\n    if (layer.getVisible() && this.replayGroup_) {\n      layer.changed();\n    }\n  }\n  handleStyleImageChange_(event) {\n    this.renderIfReadyAndVisible();\n  }\n  prepareFrame(frameState) {\n    const vectorLayer = this.getLayer();\n    const vectorSource = vectorLayer.getSource();\n    if (!vectorSource) {\n      return false;\n    }\n    const animating = frameState.viewHints[default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js.default.ANIMATING];\n    const interacting = frameState.viewHints[default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js.default.INTERACTING];\n    const updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n    const updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n    if (this.ready && !updateWhileAnimating && animating || !updateWhileInteracting && interacting) {\n      this.animatingOrInteracting_ = true;\n      return true;\n    }\n    this.animatingOrInteracting_ = false;\n    const frameStateExtent = frameState.extent;\n    const viewState = frameState.viewState;\n    const projection = viewState.projection;\n    const resolution = viewState.resolution;\n    const pixelRatio = frameState.pixelRatio;\n    const vectorLayerRevision = vectorLayer.getRevision();\n    const vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n    let vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n    if (vectorLayerRenderOrder === undefined) {\n      vectorLayerRenderOrder = require$_DOT__DOT__SLASH_vector_DOT_js.defaultOrder;\n    }\n    const center = viewState.center.slice();\n    const extent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.buffer)(frameStateExtent, vectorLayerRenderBuffer * resolution,);\n    const renderedExtent = extent.slice();\n    const loadExtents = [extent.slice()];\n    const projectionExtent = projection.getExtent();\n    if (vectorSource.getWrapX() && projection.canWrapX() && !(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.containsExtent)(projectionExtent, frameState.extent)) {\n      const worldWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getWidth)(projectionExtent);\n      const gutter = Math.max((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.getWidth)(extent) / 2, worldWidth);\n      extent[0] = projectionExtent[0] - gutter;\n      extent[2] = projectionExtent[2] + gutter;\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_coordinate_DOT_js.wrapX)(center, projection);\n      const loadExtent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.wrapX)(loadExtents[0], projection);\n      if (loadExtent[0] < projectionExtent[0] && loadExtent[2] < projectionExtent[2]) {\n        loadExtents.push([loadExtent[0] + worldWidth, loadExtent[1], loadExtent[2] + worldWidth, loadExtent[3],]);\n      } else if (loadExtent[0] > projectionExtent[0] && loadExtent[2] > projectionExtent[2]) {\n        loadExtents.push([loadExtent[0] - worldWidth, loadExtent[1], loadExtent[2] - worldWidth, loadExtent[3],]);\n      }\n    }\n    if (this.ready && this.renderedResolution_ == resolution && this.renderedRevision_ == vectorLayerRevision && this.renderedRenderOrder_ == vectorLayerRenderOrder && this.renderedFrameDeclutter_ === !!frameState.declutter && (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js.containsExtent)(this.wrappedRenderedExtent_, extent)) {\n      if (!(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js.equals)(this.renderedExtent_, renderedExtent)) {\n        this.hitDetectionImageData_ = null;\n        this.renderedExtent_ = renderedExtent;\n      }\n      this.renderedCenter_ = center;\n      this.replayGroupChanged = false;\n      return true;\n    }\n    this.replayGroup_ = null;\n    const replayGroup = new default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js.default((0,require$_DOT__DOT__SLASH_vector_DOT_js.getTolerance)(resolution, pixelRatio), extent, resolution, pixelRatio,);\n    const userProjection = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.getUserProjection)();\n    let userTransform;\n    if (userProjection) {\n      for (let i = 0, ii = loadExtents.length; i < ii; ++i) {\n        const extent = loadExtents[i];\n        const userExtent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.toUserExtent)(extent, projection);\n        vectorSource.loadFeatures(userExtent, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.toUserResolution)(resolution, projection), userProjection,);\n      }\n      userTransform = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.getTransformFromProjections)(userProjection, projection);\n    } else {\n      for (let i = 0, ii = loadExtents.length; i < ii; ++i) {\n        vectorSource.loadFeatures(loadExtents[i], resolution, projection);\n      }\n    }\n    const squaredTolerance = (0,require$_DOT__DOT__SLASH_vector_DOT_js.getSquaredTolerance)(resolution, pixelRatio);\n    let ready = true;\n    const render = (feature, index) => {\n      let styles;\n      const styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n      if (styleFunction) {\n        styles = styleFunction(feature, resolution);\n      }\n      if (styles) {\n        const dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup, userTransform, this.getLayer().getDeclutter(), index,);\n        ready = ready && !dirty;\n      }\n    };\n    const userExtent = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js.toUserExtent)(extent, projection);\n    const features = vectorSource.getFeaturesInExtent(userExtent);\n    if (vectorLayerRenderOrder) {\n      features.sort(vectorLayerRenderOrder);\n    }\n    for (let i = 0, ii = features.length; i < ii; ++i) {\n      render(features[i], i);\n    }\n    this.renderedFeatures_ = features;\n    this.ready = ready;\n    const replayGroupInstructions = replayGroup.finish();\n    const executorGroup = new default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js.default(extent, resolution, pixelRatio, vectorSource.getOverlaps(), replayGroupInstructions, vectorLayer.getRenderBuffer(), !!frameState.declutter,);\n    this.renderedResolution_ = resolution;\n    this.renderedRevision_ = vectorLayerRevision;\n    this.renderedRenderOrder_ = vectorLayerRenderOrder;\n    this.renderedFrameDeclutter_ = !!frameState.declutter;\n    this.renderedExtent_ = renderedExtent;\n    this.wrappedRenderedExtent_ = extent;\n    this.renderedCenter_ = center;\n    this.renderedProjection_ = projection;\n    this.renderedPixelRatio_ = pixelRatio;\n    this.replayGroup_ = executorGroup;\n    this.hitDetectionImageData_ = null;\n    this.replayGroupChanged = true;\n    return true;\n  }\n  renderFeature(feature, squaredTolerance, styles, builderGroup, transform, declutter, index,) {\n    if (!styles) {\n      return false;\n    }\n    let loading = false;\n    if (Array.isArray(styles)) {\n      for (let i = 0, ii = styles.length; i < ii; ++i) {\n        loading = (0,require$_DOT__DOT__SLASH_vector_DOT_js.renderFeature)(builderGroup, feature, styles[i], squaredTolerance, this.boundHandleStyleImageChange_, transform, declutter, index,) || loading;\n      }\n    } else {\n      loading = (0,require$_DOT__DOT__SLASH_vector_DOT_js.renderFeature)(builderGroup, feature, styles, squaredTolerance, this.boundHandleStyleImageChange_, transform, declutter, index,);\n    }\n    return loading;\n  }\n}\nconst $$default = CanvasVectorLayerRenderer;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_array_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_coordinate_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_extent_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_proj_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_hitdetect_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_util_DOT_js","require$_DOT__DOT__SLASH_vector_DOT_js","require$_DOT__SLASH_Layer_DOT_js","default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_ExecutorGroup_DOT_js","esmDefault","default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_ViewHint_DOT_js","default$$require$_DOT__SLASH_Layer_DOT_js","default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_canvas_SLASH_BuilderGroup_DOT_js","default$$require$_DOT__DOT__SLASH__DOT__DOT__SLASH_render_SLASH_EventType_DOT_js","CanvasVectorLayerRenderer","constructor","vectorLayer","boundHandleStyleImageChange_","handleStyleImageChange_","bind","animatingOrInteracting_","hitDetectionImageData_","clipped_","renderedFeatures_","renderedRevision_","renderedResolution_","NaN","renderedExtent_","createEmpty","wrappedRenderedExtent_","renderedRotation_","renderedProjection_","renderedCenter_","renderedPixelRatio_","renderedRenderOrder_","renderedFrameDeclutter_","replayGroup_","clipping","replayGroupChanged","targetContext_","opacity_","renderWorlds","executorGroup","frameState","declutterable","extent","viewState","center","resolution","projection","rotation","projectionExtent","getExtent","vectorSource","getLayer","getSource","declutter","getDeclutter","pixelRatio","viewHints","snapToPixel","ANIMATING","INTERACTING","context","width","Math","round","getWidth","height","getHeight","multiWorld","getWrapX","canWrapX","worldWidth","endWorld","ceil","world","floor","transform","getRenderTransform","slice","execute","canvas","undefined","ALL","DECLUTTER","NON_DECLUTTER","setDrawContext_","createCanvasContext2D","canvasPool","resetDrawContext_","alpha","globalAlpha","drawImage","releaseCanvas","push","renderDeclutter","renderDeferredInternal","renderDeferred","restore","renderFrame","target","layerState","layerStatesArray","layerIndex","opacity","prepareContainer","replayGroup","render","isEmpty","hasListener","PRERENDER","POSTRENDER","preRender","layerExtent","fromUserExtent","intersects","containsExtent","clipUnrotated","postRender","container","getFeatures","pixel","Promise","resolve","size","layer","transforms","HIT_DETECT_RESOLUTION","source","startX","offsetX","userProjection","getUserProjection","createHitDetectionImageData","getStyleFunction","getSquaredTolerance","hitDetect","forEachFeatureAtCoordinate","coordinate","hitTolerance","callback","matches","features","featureCallback","feature","geometry","distanceSq","key","getUid","match","splice","lastIndexOf","all","map","item","handleFontsChanged","getVisible","changed","event","renderIfReadyAndVisible","prepareFrame","animating","interacting","updateWhileAnimating","getUpdateWhileAnimating","updateWhileInteracting","getUpdateWhileInteracting","ready","frameStateExtent","vectorLayerRevision","getRevision","vectorLayerRenderBuffer","getRenderBuffer","vectorLayerRenderOrder","getRenderOrder","defaultOrder","buffer","renderedExtent","loadExtents","gutter","max","wrapX","loadExtent","equals","getTolerance","userTransform","i","ii","length","userExtent","toUserExtent","loadFeatures","toUserResolution","getTransformFromProjections","squaredTolerance","index","styles","styleFunction","dirty","renderFeature","getFeaturesInExtent","sort","replayGroupInstructions","finish","getOverlaps","builderGroup","loading","Array","isArray"]
}
