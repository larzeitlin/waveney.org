{
"version":3,
"file":"module$node_modules$ol$renderer$Layer.js",
"lineCount":69,
"mappings":"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",
"sources":["node_modules/ol/renderer/Layer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$ol$renderer$Layer\"] = function(global,require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, default:{enumerable:true, get:function() {\n  return $$default;\n}}});\nvar require$_DOT__DOT__SLASH_ImageState_DOT_js = require(\"../ImageState.js\");\nvar require$_DOT__DOT__SLASH_Observable_DOT_js = require(\"../Observable.js\");\nvar require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require(\"../events/EventType.js\");\nvar require$_DOT__DOT__SLASH_util_DOT_js = require(\"../util.js\");\nvar default$$require$_DOT__DOT__SLASH_ImageState_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_ImageState_DOT_js);\nvar default$$require$_DOT__DOT__SLASH_Observable_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_Observable_DOT_js);\nvar default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js = require.esmDefault(require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js);\nconst maxStaleKeys = 5;\nclass LayerRenderer extends default$$require$_DOT__DOT__SLASH_Observable_DOT_js.default {\n  constructor(layer) {\n    super();\n    this.ready = true;\n    this.boundHandleImageChange_ = this.handleImageChange_.bind(this);\n    this.layer_ = layer;\n    this.staleKeys_ = new Array();\n    this.maxStaleKeys = maxStaleKeys;\n  }\n  getStaleKeys() {\n    return this.staleKeys_;\n  }\n  prependStaleKey(key) {\n    this.staleKeys_.unshift(key);\n    if (this.staleKeys_.length > this.maxStaleKeys) {\n      this.staleKeys_.length = this.maxStaleKeys;\n    }\n  }\n  getFeatures(pixel) {\n    return (0,require$_DOT__DOT__SLASH_util_DOT_js.abstract)();\n  }\n  getData(pixel) {\n    return null;\n  }\n  prepareFrame(frameState) {\n    return (0,require$_DOT__DOT__SLASH_util_DOT_js.abstract)();\n  }\n  renderFrame(frameState, target) {\n    return (0,require$_DOT__DOT__SLASH_util_DOT_js.abstract)();\n  }\n  forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, callback, matches,) {\n    return undefined;\n  }\n  getLayer() {\n    return this.layer_;\n  }\n  handleFontsChanged() {\n  }\n  handleImageChange_(event) {\n    const image = event.target;\n    if (image.getState() === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED || image.getState() === default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.ERROR) {\n      this.renderIfReadyAndVisible();\n    }\n  }\n  loadImage(image) {\n    let imageState = image.getState();\n    if (imageState != default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED && imageState != default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.ERROR) {\n      image.addEventListener(default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js.default.CHANGE, this.boundHandleImageChange_);\n    }\n    if (imageState == default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.IDLE) {\n      image.load();\n      imageState = image.getState();\n    }\n    return imageState == default$$require$_DOT__DOT__SLASH_ImageState_DOT_js.default.LOADED;\n  }\n  renderIfReadyAndVisible() {\n    const layer = this.getLayer();\n    if (layer && layer.getVisible() && layer.getSourceState() === \"ready\") {\n      layer.changed();\n    }\n  }\n  renderDeferred(frameState) {\n  }\n  disposeInternal() {\n    delete this.layer_;\n    super.disposeInternal();\n  }\n}\nconst $$default = LayerRenderer;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperties","__esModule","enumerable","value","default","get","$$default","require$_DOT__DOT__SLASH_ImageState_DOT_js","require$_DOT__DOT__SLASH_Observable_DOT_js","require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","require$_DOT__DOT__SLASH_util_DOT_js","default$$require$_DOT__DOT__SLASH_ImageState_DOT_js","esmDefault","default$$require$_DOT__DOT__SLASH_Observable_DOT_js","default$$require$_DOT__DOT__SLASH_events_SLASH_EventType_DOT_js","LayerRenderer","constructor","layer","ready","boundHandleImageChange_","handleImageChange_","bind","layer_","staleKeys_","maxStaleKeys","getStaleKeys","prependStaleKey","key","unshift","length","getFeatures","pixel","abstract","getData","prepareFrame","frameState","renderFrame","target","forEachFeatureAtCoordinate","coordinate","hitTolerance","callback","matches","getLayer","handleFontsChanged","event","image","getState","LOADED","ERROR","renderIfReadyAndVisible","loadImage","imageState","addEventListener","CHANGE","IDLE","load","getVisible","getSourceState","changed","renderDeferred","disposeInternal"]
}
